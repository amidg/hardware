#include "Arduino.h"

#include "./Adafruit_GFX.h"
#include "./Adafruit_NeoMatrix.h"
#include "./Adafruit_NeoPixel.h"

// #include ".\Adafruit-GFX-Library\Adafruit_GFX.h"
// #include ".\Adafruit_NeoMatrix\Adafruit_NeoMatrix.h"
// #include ".\Adafruit_NeoPixel\Adafruit_NeoPixel.h"

#define PIN 21 //led matrix pin

Adafruit_NeoMatrix matrix = Adafruit_NeoMatrix(32, 8, PIN,
  NEO_MATRIX_BOTTOM  + NEO_MATRIX_RIGHT +
  NEO_MATRIX_COLUMNS + NEO_MATRIX_ZIGZAG,
  NEO_GRB            + NEO_KHZ800);

// enum colorNames {
//  red = 0, 
//  green = 1, 
//  blue = 2, 
//  neon_purple = 3, 
//  orange_tiger = 4, 
//  yellow = 5, 
//  cyan = 6, 
//  random = 7
// };

const int maxNumOfColors = 8;

uint8_t randomGreen, randomRed, randomBlue;

const uint16_t colors[maxNumOfColors] = {
  matrix.Color(255, 0, 0), // red
  matrix.Color(0, 255, 0), // green
  matrix.Color(0, 0, 255), // blue
  matrix.Color(36, 199, 177), // neon purple
  matrix.Color(106, 253, 2), // orange tiger
  matrix.Color(255, 255, 0), // yellow
  matrix.Color(255, 0, 255), // cyan
  matrix.Color(randomGreen, randomRed, randomBlue) // rand
}; 

struct pixel {
  int x;
  int y;
  uint8_t green;
  uint8_t red;
  uint8_t blue;
};

const pixel synthwave[256] = {
{0, 0, 0, 0, 0}, 
{0, 1, 0, 0, 0}, 
{0, 2, 0, 1, 0}, 
{0, 3, 0, 0, 0}, 
{0, 4, 0, 0, 1}, 
{0, 5, 0, 0, 0}, 
{0, 6, 24, 24, 22}, 
{0, 7, 0, 0, 1}, 
{1, 0, 0, 0, 0}, 
{1, 1, 23, 23, 23}, 
{1, 2, 0, 1, 0}, 
{1, 3, 0, 0, 0}, 
{1, 4, 0, 0, 1}, 
{1, 5, 0, 0, 0}, 
{1, 6, 0, 0, 0}, 
{1, 7, 0, 0, 1}, 
{2, 0, 0, 0, 0}, 
{2, 1, 0, 1, 0}, 
{2, 2, 0, 0, 0}, 
{2, 3, 5, 9, 7}, 
{2, 4, 2, 2, 2}, 
{2, 5, 0, 0, 0}, 
{2, 6, 9, 9, 9}, 
{2, 7, 0, 0, 0}, 
{3, 0, 0, 0, 0}, 
{3, 1, 23, 25, 24}, 
{3, 2, 0, 0, 0}, 
{3, 3, 9, 13, 11}, 
{3, 4, 4, 4, 4}, 
{3, 5, 0, 0, 0}, 
{3, 6, 15, 15, 15}, 
{3, 7, 0, 0, 0}, 
{4, 0, 18, 18, 18}, 
{4, 1, 0, 0, 0}, 
{4, 2, 0, 1, 0}, 
{4, 3, 0, 1, 0}, 
{4, 4, 0, 0, 0}, 
{4, 5, 0, 0, 0}, 
{4, 6, 2, 2, 2}, 
{4, 7, 21, 21, 21}, 
{5, 0, 0, 0, 0}, 
{5, 1, 0, 0, 0}, 
{5, 2, 0, 2, 1}, 
{5, 3, 0, 1, 0}, 
{5, 4, 0, 0, 0}, 
{5, 5, 0, 0, 0}, 
{5, 6, 2, 2, 2}, 
{5, 7, 15, 15, 15}, 
{6, 0, 0, 1, 0}, 
{6, 1, 1, 1, 0}, 
{6, 2, 1, 1, 1}, 
{6, 3, 23, 25, 24}, 
{6, 4, 0, 0, 0}, 
{6, 5, 0, 0, 0}, 
{6, 6, 24, 26, 25}, 
{6, 7, 7, 7, 7}, 
{7, 0, 23, 25, 24}, 
{7, 1, 1, 1, 0}, 
{7, 2, 1, 1, 1}, 
{7, 3, 0, 1, 0}, 
{7, 4, 1, 1, 1}, 
{7, 5, 2, 2, 2}, 
{7, 6, 2, 4, 3}, 
{7, 7, 2, 2, 2}, 
{8, 0, 1, 1, 1}, 
{8, 1, 2, 0, 2}, 
{8, 2, 1, 3, 0}, 
{8, 3, 0, 17, 0}, 
{8, 4, 0, 37, 0}, 
{8, 5, 0, 61, 0}, 
{8, 6, 0, 34, 0}, 
{8, 7, 0, 55, 10}, 
{9, 0, 0, 0, 0}, 
{9, 1, 2, 0, 2}, 
{9, 2, 5, 7, 4}, 
{9, 3, 26, 49, 16}, 
{9, 4, 35, 83, 23}, 
{9, 5, 26, 110, 36}, 
{9, 6, 14, 62, 26}, 
{9, 7, 28, 108, 63}, 
{10, 0, 1, 13, 0}, 
{10, 1, 31, 112, 0}, 
{10, 2, 72, 181, 0}, 
{10, 3, 48, 164, 0}, 
{10, 4, 29, 165, 0}, 
{10, 5, 0, 165, 22}, 
{10, 6, 0, 92, 24}, 
{10, 7, 1, 150, 75}, 
{11, 0, 57, 69, 31}, 
{11, 1, 133, 214, 52}, 
{11, 2, 90, 199, 8}, 
{11, 3, 48, 164, 0}, 
{11, 4, 29, 165, 0}, 
{11, 5, 0, 164, 21}, 
{11, 6, 0, 92, 24}, 
{11, 7, 18, 167, 92}, 
{12, 0, 199, 245, 1}, 
{12, 1, 133, 255, 0}, 
{12, 2, 89, 205, 0}, 
{12, 3, 49, 163, 0}, 
{12, 4, 29, 163, 2}, 
{12, 5, 0, 164, 19}, 
{12, 6, 1, 89, 23}, 
{12, 7, 97, 109, 149}, 
{13, 0, 207, 253, 9}, 
{13, 1, 133, 255, 0}, 
{13, 2, 89, 205, 0}, 
{13, 3, 49, 163, 0}, 
{13, 4, 29, 163, 2}, 
{13, 5, 0, 164, 19}, 
{13, 6, 3, 91, 25}, 
{13, 7, 90, 102, 142}, 
{14, 0, 207, 254, 4}, 
{14, 1, 134, 255, 0}, 
{14, 2, 91, 204, 1}, 
{14, 3, 53, 147, 15}, 
{14, 4, 50, 108, 47}, 
{14, 5, 63, 63, 89}, 
{14, 6, 120, 39, 151}, 
{14, 7, 119, 32, 150}, 
{15, 0, 207, 254, 4}, 
{15, 1, 134, 255, 0}, 
{15, 2, 90, 203, 0}, 
{15, 3, 66, 161, 28}, 
{15, 4, 93, 151, 91}, 
{15, 5, 108, 109, 134}, 
{15, 6, 126, 45, 157}, 
{15, 7, 131, 44, 162}, 
{16, 0, 207, 254, 4}, 
{16, 1, 133, 255, 0}, 
{16, 2, 121, 192, 55}, 
{16, 3, 93, 55, 104}, 
{16, 4, 92, 17, 115}, 
{16, 5, 125, 49, 150}, 
{16, 6, 134, 43, 166}, 
{16, 7, 130, 39, 160}, 
{17, 0, 207, 254, 4}, 
{17, 1, 133, 255, 0}, 
{17, 2, 108, 179, 41}, 
{17, 3, 108, 70, 120}, 
{17, 4, 101, 26, 124}, 
{17, 5, 92, 16, 117}, 
{17, 6, 128, 37, 159}, 
{17, 7, 128, 37, 158}, 
{18, 0, 207, 254, 4}, 
{18, 1, 133, 255, 0}, 
{18, 2, 89, 205, 0}, 
{18, 3, 48, 163, 1}, 
{18, 4, 80, 129, 83}, 
{18, 5, 76, 72, 105}, 
{18, 6, 117, 37, 156}, 
{18, 7, 91, 20, 111}, 
{19, 0, 207, 254, 4}, 
{19, 1, 133, 255, 0}, 
{19, 2, 89, 205, 0}, 
{19, 3, 48, 163, 1}, 
{19, 4, 51, 100, 54}, 
{19, 5, 68, 64, 97}, 
{19, 6, 111, 31, 150}, 
{19, 7, 94, 23, 114}, 
{20, 0, 206, 249, 25}, 
{20, 1, 133, 255, 0}, 
{20, 2, 89, 205, 0}, 
{20, 3, 48, 163, 1}, 
{20, 4, 28, 165, 2}, 
{20, 5, 0, 164, 21}, 
{20, 6, 0, 90, 23}, 
{20, 7, 82, 129, 148}, 
{21, 0, 161, 204, 0}, 
{21, 1, 133, 255, 0}, 
{21, 2, 89, 205, 0}, 
{21, 3, 48, 163, 1}, 
{21, 4, 28, 165, 2}, 
{21, 5, 0, 164, 21}, 
{21, 6, 0, 90, 23}, 
{21, 7, 47, 94, 114}, 
{22, 0, 13, 14, 5}, 
{22, 1, 110, 165, 55}, 
{22, 2, 94, 182, 30}, 
{22, 3, 48, 164, 0}, 
{22, 4, 28, 165, 2}, 
{22, 5, 0, 164, 21}, 
{22, 6, 0, 92, 23}, 
{22, 7, 0, 154, 70}, 
{23, 0, 0, 1, 0}, 
{23, 1, 1, 57, 0}, 
{23, 2, 37, 125, 0}, 
{23, 3, 48, 164, 0}, 
{23, 4, 28, 165, 2}, 
{23, 5, 0, 162, 20}, 
{23, 6, 0, 92, 23}, 
{23, 7, 0, 154, 70}, 
{24, 0, 1, 1, 1}, 
{24, 1, 0, 0, 0}, 
{24, 2, 0, 0, 0}, 
{24, 3, 1, 3, 2}, 
{24, 4, 17, 38, 12}, 
{24, 5, 17, 70, 23}, 
{24, 6, 11, 40, 19}, 
{24, 7, 18, 66, 40}, 
{25, 0, 0, 0, 0}, 
{25, 1, 0, 0, 0}, 
{25, 2, 0, 0, 0}, 
{25, 3, 0, 1, 0}, 
{25, 4, 0, 21, 0}, 
{25, 5, 0, 40, 0}, 
{25, 6, 0, 22, 1}, 
{25, 7, 0, 40, 14}, 
{26, 0, 0, 0, 0}, 
{26, 1, 0, 0, 0}, 
{26, 2, 24, 26, 25}, 
{26, 3, 0, 0, 0}, 
{26, 4, 14, 14, 14}, 
{26, 5, 2, 2, 2}, 
{26, 6, 1, 1, 0}, 
{26, 7, 18, 21, 17}, 
{27, 0, 0, 0, 0}, 
{27, 1, 0, 0, 0}, 
{27, 2, 0, 1, 0}, 
{27, 3, 0, 0, 0}, 
{27, 4, 0, 0, 0}, 
{27, 5, 12, 12, 12}, 
{27, 6, 1, 1, 0}, 
{27, 7, 0, 3, 0}, 
{28, 0, 0, 0, 0}, 
{28, 1, 24, 24, 24}, 
{28, 2, 0, 0, 0}, 
{28, 3, 0, 0, 0}, 
{28, 4, 0, 0, 1}, 
{28, 5, 12, 12, 12}, 
{28, 6, 0, 0, 0}, 
{28, 7, 6, 6, 6}, 
{29, 0, 0, 0, 0}, 
{29, 1, 0, 0, 0}, 
{29, 2, 0, 0, 0}, 
{29, 3, 0, 0, 0}, 
{29, 4, 17, 18, 19}, 
{29, 5, 0, 0, 0}, 
{29, 6, 0, 0, 0}, 
{29, 7, 0, 0, 0}, 
{30, 0, 0, 0, 0}, 
{30, 1, 0, 0, 0}, 
{30, 2, 1, 1, 1}, 
{30, 3, 0, 0, 0}, 
{30, 4, 6, 6, 6}, 
{30, 5, 0, 0, 0}, 
{30, 6, 3, 16, 9}, 
{30, 7, 0, 0, 0}, 
{31, 0, 0, 0, 0}, 
{31, 1, 0, 0, 0}, 
{31, 2, 0, 0, 0}, 
{31, 3, 0, 0, 0}, 
{31, 4, 0, 0, 0}, 
{31, 5, 0, 0, 0}, 
{31, 6, 0, 9, 2}, 
{31, 7, 0, 0, 0} };

const pixel zerotwo[256] = {
  {0, 0, 227, 255, 225}, 
{0, 1, 227, 255, 225}, 
{0, 2, 227, 255, 225}, 
{0, 3, 227, 255, 225}, 
{0, 4, 253, 255, 254}, 
{0, 5, 255, 255, 255}, 
{0, 6, 255, 255, 255}, 
{0, 7, 255, 255, 255}, 
{1, 0, 137, 184, 135}, 
{1, 1, 137, 184, 135}, 
{1, 2, 137, 184, 135}, 
{1, 3, 137, 184, 135}, 
{1, 4, 241, 249, 242}, 
{1, 5, 240, 246, 240}, 
{1, 6, 240, 246, 240}, 
{1, 7, 240, 246, 240}, 
{2, 0, 193, 245, 192}, 
{2, 1, 194, 246, 193}, 
{2, 2, 194, 246, 193}, 
{2, 3, 193, 247, 191}, 
{2, 4, 169, 233, 168}, 
{2, 5, 133, 199, 131}, 
{2, 6, 131, 197, 131}, 
{2, 7, 128, 200, 127}, 
{3, 0, 208, 255, 207}, 
{3, 1, 208, 255, 207}, 
{3, 2, 208, 255, 207}, 
{3, 3, 203, 255, 201}, 
{3, 4, 200, 255, 200}, 
{3, 5, 199, 255, 197}, 
{3, 6, 197, 255, 198}, 
{3, 7, 182, 254, 180}, 
{4, 0, 210, 255, 205}, 
{4, 1, 210, 255, 207}, 
{4, 2, 210, 254, 209}, 
{4, 3, 211, 253, 211}, 
{4, 4, 202, 255, 197}, 
{4, 5, 203, 255, 200}, 
{4, 6, 193, 249, 190}, 
{4, 7, 169, 233, 167}, 
{5, 0, 202, 248, 197}, 
{5, 1, 202, 248, 199}, 
{5, 2, 210, 254, 209}, 
{5, 3, 193, 236, 194}, 
{5, 4, 159, 223, 155}, 
{5, 5, 199, 251, 196}, 
{5, 6, 199, 255, 196}, 
{5, 7, 199, 255, 197}, 
{6, 0, 131, 195, 130}, 
{6, 1, 129, 198, 128}, 
{6, 2, 198, 223, 196}, 
{6, 3, 59, 67, 57}, 
{6, 4, 47, 55, 45}, 
{6, 5, 143, 255, 134}, 
{6, 6, 145, 255, 133}, 
{6, 7, 191, 255, 187}, 
{7, 0, 203, 255, 203}, 
{7, 1, 197, 255, 196}, 
{7, 2, 55, 81, 54}, 
{7, 3, 46, 54, 44}, 
{7, 4, 52, 60, 50}, 
{7, 5, 81, 207, 71}, 
{7, 6, 87, 224, 75}, 
{7, 7, 161, 239, 157}, 
{8, 0, 201, 255, 198}, 
{8, 1, 182, 254, 178}, 
{8, 2, 58, 68, 57}, 
{8, 3, 44, 50, 42}, 
{8, 4, 60, 61, 56}, 
{8, 5, 63, 64, 59}, 
{8, 6, 112, 191, 101}, 
{8, 7, 77, 250, 57}, 
{9, 0, 187, 242, 184}, 
{9, 1, 124, 195, 120}, 
{9, 2, 49, 59, 48}, 
{9, 3, 49, 55, 47}, 
{9, 4, 181, 182, 177}, 
{9, 5, 241, 243, 238}, 
{9, 6, 229, 255, 218}, 
{9, 7, 80, 253, 60}, 
{10, 0, 119, 201, 117}, 
{10, 1, 117, 201, 115}, 
{10, 2, 47, 57, 46}, 
{10, 3, 55, 32, 51}, 
{10, 4, 89, 18, 83}, 
{10, 5, 135, 19, 116}, 
{10, 6, 240, 185, 221}, 
{10, 7, 112, 200, 99}, 
{11, 0, 163, 245, 160}, 
{11, 1, 125, 209, 123}, 
{11, 2, 57, 67, 56}, 
{11, 3, 72, 50, 69}, 
{11, 4, 116, 45, 110}, 
{11, 5, 167, 52, 148}, 
{11, 6, 224, 169, 205}, 
{11, 7, 219, 255, 207}, 
{12, 0, 236, 255, 232}, 
{12, 1, 234, 255, 229}, 
{12, 2, 229, 255, 223}, 
{12, 3, 61, 72, 55}, 
{12, 4, 80, 60, 71}, 
{12, 5, 115, 77, 104}, 
{12, 6, 238, 251, 231}, 
{12, 7, 242, 255, 235}, 
{13, 0, 215, 244, 211}, 
{13, 1, 208, 241, 203}, 
{13, 2, 171, 218, 164}, 
{13, 3, 240, 251, 233}, 
{13, 4, 252, 233, 244}, 
{13, 5, 255, 220, 247}, 
{13, 6, 242, 255, 235}, 
{13, 7, 242, 255, 235}, 
{14, 0, 202, 255, 200}, 
{14, 1, 160, 242, 157}, 
{14, 2, 118, 204, 115}, 
{14, 3, 237, 255, 229}, 
{14, 4, 242, 255, 235}, 
{14, 5, 241, 255, 235}, 
{14, 6, 242, 255, 235}, 
{14, 7, 242, 255, 235}, 
{15, 0, 191, 245, 189}, 
{15, 1, 122, 204, 120}, 
{15, 2, 118, 204, 115}, 
{15, 3, 237, 255, 229}, 
{15, 4, 242, 255, 235}, 
{15, 5, 241, 255, 235}, 
{15, 6, 242, 255, 235}, 
{15, 7, 242, 255, 235}, 
{16, 0, 209, 255, 205}, 
{16, 1, 199, 255, 197}, 
{16, 2, 160, 242, 155}, 
{16, 3, 238, 255, 230}, 
{16, 4, 242, 255, 235}, 
{16, 5, 244, 255, 234}, 
{16, 6, 242, 255, 235}, 
{16, 7, 241, 255, 237}, 
{17, 0, 193, 242, 189}, 
{17, 1, 165, 229, 163}, 
{17, 2, 120, 201, 115}, 
{17, 3, 237, 254, 229}, 
{17, 4, 242, 255, 235}, 
{17, 5, 243, 255, 233}, 
{17, 6, 242, 255, 235}, 
{17, 7, 241, 255, 237}, 
{18, 0, 120, 202, 118}, 
{18, 1, 116, 202, 113}, 
{18, 2, 126, 180, 122}, 
{18, 3, 238, 251, 234}, 
{18, 4, 252, 233, 245}, 
{18, 5, 255, 221, 250}, 
{18, 6, 242, 255, 235}, 
{18, 7, 242, 255, 233}, 
{19, 0, 161, 243, 158}, 
{19, 1, 117, 203, 114}, 
{19, 2, 226, 255, 222}, 
{19, 3, 52, 66, 49}, 
{19, 4, 71, 52, 65}, 
{19, 5, 108, 71, 100}, 
{19, 6, 237, 250, 230}, 
{19, 7, 242, 255, 233}, 
{20, 0, 122, 204, 120}, 
{20, 1, 225, 255, 220}, 
{20, 2, 53, 59, 51}, 
{20, 3, 73, 48, 69}, 
{20, 4, 120, 46, 109}, 
{20, 5, 169, 55, 149}, 
{20, 6, 223, 165, 200}, 
{20, 7, 219, 255, 205}, 
{21, 0, 160, 242, 157}, 
{21, 1, 131, 182, 126}, 
{21, 2, 48, 54, 46}, 
{21, 3, 56, 31, 51}, 
{21, 4, 88, 14, 77}, 
{21, 5, 133, 19, 112}, 
{21, 6, 242, 184, 219}, 
{21, 7, 105, 195, 91}, 
{22, 0, 122, 192, 121}, 
{22, 1, 121, 192, 117}, 
{22, 2, 49, 59, 48}, 
{22, 3, 49, 55, 49}, 
{22, 4, 187, 188, 183}, 
{22, 5, 248, 251, 245}, 
{22, 6, 230, 255, 218}, 
{22, 7, 79, 255, 62}, 
{23, 0, 195, 255, 195}, 
{23, 1, 185, 255, 181}, 
{23, 2, 59, 69, 58}, 
{23, 3, 44, 50, 44}, 
{23, 4, 52, 53, 48}, 
{23, 5, 53, 57, 50}, 
{23, 6, 103, 187, 91}, 
{23, 7, 76, 252, 59}, 
{24, 0, 204, 255, 202}, 
{24, 1, 199, 255, 197}, 
{24, 2, 55, 81, 54}, 
{24, 3, 46, 54, 44}, 
{24, 4, 52, 60, 50}, 
{24, 5, 85, 212, 72}, 
{24, 6, 87, 221, 72}, 
{24, 7, 164, 238, 161}, 
{25, 0, 127, 191, 124}, 
{25, 1, 126, 192, 124}, 
{25, 2, 206, 231, 204}, 
{25, 3, 60, 68, 58}, 
{25, 4, 47, 55, 45}, 
{25, 5, 147, 255, 133}, 
{25, 6, 150, 255, 135}, 
{25, 7, 194, 255, 191}, 
{26, 0, 205, 252, 205}, 
{26, 1, 205, 252, 205}, 
{26, 2, 210, 254, 209}, 
{26, 3, 203, 247, 202}, 
{26, 4, 165, 231, 164}, 
{26, 5, 201, 253, 200}, 
{26, 6, 200, 255, 198}, 
{26, 7, 198, 255, 196}, 
{27, 0, 210, 255, 209}, 
{27, 1, 210, 255, 209}, 
{27, 2, 210, 254, 209}, 
{27, 3, 210, 254, 209}, 
{27, 4, 201, 255, 199}, 
{27, 5, 204, 255, 203}, 
{27, 6, 192, 248, 190}, 
{27, 7, 167, 231, 165}, 
{28, 0, 209, 255, 205}, 
{28, 1, 209, 255, 205}, 
{28, 2, 209, 255, 205}, 
{28, 3, 204, 255, 200}, 
{28, 4, 199, 255, 197}, 
{28, 5, 199, 255, 197}, 
{28, 6, 197, 255, 198}, 
{28, 7, 183, 255, 179}, 
{29, 0, 194, 243, 190}, 
{29, 1, 194, 243, 190}, 
{29, 2, 194, 242, 190}, 
{29, 3, 193, 246, 189}, 
{29, 4, 168, 232, 166}, 
{29, 5, 130, 196, 128}, 
{29, 6, 127, 196, 128}, 
{29, 7, 126, 197, 122}, 
{30, 0, 134, 180, 133}, 
{30, 1, 134, 180, 133}, 
{30, 2, 134, 180, 133}, 
{30, 3, 134, 180, 133}, 
{30, 4, 246, 252, 246}, 
{30, 5, 246, 250, 247}, 
{30, 6, 246, 250, 247}, 
{30, 7, 247, 251, 248}, 
{31, 0, 233, 255, 232}, 
{31, 1, 233, 255, 232}, 
{31, 2, 233, 255, 232}, 
{31, 3, 233, 255, 232}, 
{31, 4, 255, 255, 255}, 
{31, 5, 254, 255, 255}, 
{31, 6, 255, 255, 255}, 
{31, 7, 255, 255, 255} };